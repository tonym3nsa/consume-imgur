{"ast":null,"code":"import { GET_GALLERY, HOT, DAY, TOP, GETTING_GALLERY } from \"../../constants\";\nexport const getGallery = filter => {\n  const apiURL = process.env.REACT_APP_API_ENDPOINT;\n  const auth = process.env.REACT_APP_AUTHORIZATION;\n  let headers = new Headers();\n  headers.append(\"Authorization\", auth);\n  const section = filter && filter.section ? filter.section : HOT;\n  const sort = filter && filter.sort ? filter.sort : TOP;\n  const window = filter && filter.window ? filter.window : DAY;\n  const requestOptions = {\n    method: \"GET\",\n    headers: headers,\n    redirect: \"follow\"\n  };\n  return dispatch => {\n    dispatch({\n      type: GETTING_GALLERY,\n      status: true\n    });\n    return fetch(`${apiURL}gallery/${section}/${sort}/${window}`, requestOptions).then(response => response.text()).then(result => {\n      const payload = JSON.parse(result);\n      dispatch({\n        type: GET_GALLERY,\n        payload: payload.data\n      });\n      dispatch({\n        type: GETTING_GALLERY,\n        status: false\n      });\n    }).catch(error => {\n      alert(`There was an error: ${error}`);\n    });\n  };\n};\nexport default {\n  getGallery\n};","map":{"version":3,"sources":["/Users/tonymensah/Documents/consume-imgur/src/redux/actions/gallery.js"],"names":["GET_GALLERY","HOT","DAY","TOP","GETTING_GALLERY","getGallery","filter","apiURL","process","env","REACT_APP_API_ENDPOINT","auth","REACT_APP_AUTHORIZATION","headers","Headers","append","section","sort","window","requestOptions","method","redirect","dispatch","type","status","fetch","then","response","text","result","payload","JSON","parse","data","catch","error","alert"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,eAArC,QAA4D,iBAA5D;AAEA,OAAO,MAAMC,UAAU,GAAIC,MAAD,IAAY;AACpC,QAAMC,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA3B;AACA,QAAMC,IAAI,GAAGH,OAAO,CAACC,GAAR,CAAYG,uBAAzB;AACA,MAAIC,OAAO,GAAG,IAAIC,OAAJ,EAAd;AACAD,EAAAA,OAAO,CAACE,MAAR,CAAe,eAAf,EAAgCJ,IAAhC;AACA,QAAMK,OAAO,GAAGV,MAAM,IAAIA,MAAM,CAACU,OAAjB,GAA2BV,MAAM,CAACU,OAAlC,GAA4Cf,GAA5D;AACA,QAAMgB,IAAI,GAAGX,MAAM,IAAIA,MAAM,CAACW,IAAjB,GAAwBX,MAAM,CAACW,IAA/B,GAAsCd,GAAnD;AACA,QAAMe,MAAM,GAAGZ,MAAM,IAAIA,MAAM,CAACY,MAAjB,GAA0BZ,MAAM,CAACY,MAAjC,GAA0ChB,GAAzD;AAEA,QAAMiB,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,KADa;AAErBP,IAAAA,OAAO,EAAEA,OAFY;AAGrBQ,IAAAA,QAAQ,EAAE;AAHW,GAAvB;AAMA,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEnB,eADC;AAEPoB,MAAAA,MAAM,EAAE;AAFD,KAAD,CAAR;AAIA,WAAOC,KAAK,CACT,GAAElB,MAAO,WAAUS,OAAQ,IAAGC,IAAK,IAAGC,MAAO,EADpC,EAEVC,cAFU,CAAL,CAIJO,IAJI,CAIEC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAJf,EAKJF,IALI,CAKEG,MAAD,IAAY;AAChB,YAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWH,MAAX,CAAhB;AAEAP,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEvB,WADC;AAEP8B,QAAAA,OAAO,EAAEA,OAAO,CAACG;AAFV,OAAD,CAAR;AAIAX,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEnB,eADC;AAEPoB,QAAAA,MAAM,EAAE;AAFD,OAAD,CAAR;AAID,KAhBI,EAiBJU,KAjBI,CAiBGC,KAAD,IAAW;AAChBC,MAAAA,KAAK,CAAE,uBAAsBD,KAAM,EAA9B,CAAL;AACD,KAnBI,CAAP;AAoBD,GAzBD;AA0BD,CAzCM;AA2CP,eAAe;AACb9B,EAAAA;AADa,CAAf","sourcesContent":["import { GET_GALLERY, HOT, DAY, TOP, GETTING_GALLERY } from \"../../constants\";\n\nexport const getGallery = (filter) => {\n  const apiURL = process.env.REACT_APP_API_ENDPOINT;\n  const auth = process.env.REACT_APP_AUTHORIZATION;\n  let headers = new Headers();\n  headers.append(\"Authorization\", auth);\n  const section = filter && filter.section ? filter.section : HOT;\n  const sort = filter && filter.sort ? filter.sort : TOP;\n  const window = filter && filter.window ? filter.window : DAY;\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: headers,\n    redirect: \"follow\",\n  };\n\n  return (dispatch) => {\n    dispatch({\n      type: GETTING_GALLERY,\n      status: true,\n    });\n    return fetch(\n      `${apiURL}gallery/${section}/${sort}/${window}`,\n      requestOptions\n    )\n      .then((response) => response.text())\n      .then((result) => {\n        const payload = JSON.parse(result);\n\n        dispatch({\n          type: GET_GALLERY,\n          payload: payload.data,\n        });\n        dispatch({\n          type: GETTING_GALLERY,\n          status: false,\n        });\n      })\n      .catch((error) => {\n        alert(`There was an error: ${error}`);\n      });\n  };\n};\n\nexport default {\n  getGallery,\n};\n"]},"metadata":{},"sourceType":"module"}