{"ast":null,"code":"import _slicedToArray from\"/Users/tonymensah/Documents/eurowings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import ThumbnailCard from\"../ThumbnailCard/ThumbnailCard\";import Carousel from\"../Carousel/Carousel\";import ModalDialog from\"../ModalDialog/ModalDialog\";import{useSelector}from\"react-redux\";import\"./GalleryPage.css\";function GalleryPage(){var _useSelector=useSelector(function(state){return state.galleryReducer;}),galleryItems=_useSelector.galleryItems;var _useSelector2=useSelector(function(state){return state.galleryReducer;}),galleryStatus=_useSelector2.galleryStatus;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),displayDetails=_useState2[0],setDisplayDetails=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),selectedTitle=_useState4[0],setSelectedTitle=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),images=_useState8[0],setImages=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),paginatedList=_useState10[0],setPaginatedList=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),lastPage=_useState12[0],setLastPage=_useState12[1];var pageSize=10;useEffect(function(){if(galleryItems){paginateList();}},[galleryItems]);useEffect(function(){if(galleryItems){updatePageContent();}},[currentPage]);function updatePageContent(){var pages=paginate(galleryItems,pageSize);var clone=paginatedList;var update=clone.concat(pages);setPaginatedList(update);}function paginateList(){var finalPage=galleryItems.length/pageSize;if(finalPage%2>0){finalPage=finalPage+1;}setLastPage(finalPage);createList();}function displayModal(image){setImages(image);setSelectedTitle(image.title);setDisplayDetails(true);}function createList(){var pages=paginate(galleryItems,pageSize);setPaginatedList(pages);}function nextPage(){var nextPage=currentPage+1;setCurrentPage(nextPage);}function paginate(array,page_size){return array.slice((currentPage-1)*page_size,currentPage*page_size);}function onScroll(e){var bottom=e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight;if(bottom){nextPage();}}var loadingState=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",{style:{color:\"#ffffff\"}},\"Loading...\"));return/*#__PURE__*/React.createElement(\"div\",{onScroll:currentPage<=lastPage?onScroll:null,className:\"gallery\",style:{overflowY:\"scroll\",height:\"100vh\"}},/*#__PURE__*/React.createElement(ModalDialog,{display:displayDetails,close:function close(){return setDisplayDetails(false);},content:/*#__PURE__*/React.createElement(Carousel,{images:images?images.images:null}),title:selectedTitle}),/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},galleryStatus===true?loadingState:/*#__PURE__*/React.createElement(\"div\",{className:\"card-columns\"},paginatedList&&paginatedList.length>0?paginatedList.map(function(item,i){return/*#__PURE__*/React.createElement(\"div\",{key:i},/*#__PURE__*/React.createElement(\"div\",{className:\"card\",key:i,onClick:function onClick(){return displayModal(item);}},/*#__PURE__*/React.createElement(ThumbnailCard,{title:item.title,type:item.type,animated:item.animated,image:item.images,link:item.link})));}):null)));}export default GalleryPage;","map":{"version":3,"sources":["/Users/tonymensah/Documents/eurowings/src/components/GalleryPage/GalleryPage.js"],"names":["React","useEffect","useState","ThumbnailCard","Carousel","ModalDialog","useSelector","GalleryPage","state","galleryReducer","galleryItems","galleryStatus","displayDetails","setDisplayDetails","selectedTitle","setSelectedTitle","currentPage","setCurrentPage","images","setImages","paginatedList","setPaginatedList","lastPage","setLastPage","pageSize","paginateList","updatePageContent","pages","paginate","clone","update","concat","finalPage","length","createList","displayModal","image","title","nextPage","array","page_size","slice","onScroll","e","bottom","target","scrollHeight","scrollTop","clientHeight","loadingState","color","overflowY","height","map","item","i","type","animated","link"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ThumbnailCard from \"../ThumbnailCard/ThumbnailCard\";\nimport Carousel from \"../Carousel/Carousel\";\nimport ModalDialog from \"../ModalDialog/ModalDialog\";\nimport { useSelector } from \"react-redux\";\nimport \"./GalleryPage.css\";\n\nfunction GalleryPage() {\n  const { galleryItems } = useSelector((state) => state.galleryReducer);\n  const { galleryStatus } = useSelector((state) => state.galleryReducer);\n  const [displayDetails, setDisplayDetails] = useState(false);\n  const [selectedTitle, setSelectedTitle] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [images, setImages] = useState(null);\n  const [paginatedList, setPaginatedList] = useState([]);\n  const [lastPage, setLastPage] = useState(null);\n  const pageSize = 10;\n\n  useEffect(() => {\n    if (galleryItems) {\n      paginateList();\n    }\n  }, [galleryItems]);\n\n  useEffect(() => {\n    if (galleryItems) {\n      updatePageContent();\n    }\n  }, [currentPage]);\n\n  function updatePageContent() {\n    const pages = paginate(galleryItems, pageSize);\n    const clone = paginatedList;\n\n    const update = clone.concat(pages);\n    setPaginatedList(update);\n  }\n\n  function paginateList() {\n    let finalPage = galleryItems.length / pageSize;\n    if (finalPage % 2 > 0) {\n      finalPage = finalPage + 1;\n    }\n    setLastPage(finalPage);\n    createList();\n  }\n\n  function displayModal(image) {\n    setImages(image);\n    setSelectedTitle(image.title);\n    setDisplayDetails(true);\n  }\n\n  function createList() {\n    const pages = paginate(galleryItems, pageSize);\n    setPaginatedList(pages);\n  }\n\n  function nextPage() {\n    const nextPage = currentPage + 1;\n    setCurrentPage(nextPage);\n  }\n\n  function paginate(array, page_size) {\n    return array.slice((currentPage - 1) * page_size, currentPage * page_size);\n  }\n\n  function onScroll(e) {\n    const bottom =\n      e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight;\n    if (bottom) {\n      nextPage();\n    }\n  }\n\n  const loadingState = (\n    <React.Fragment>\n      <h1 style={{ color: \"#ffffff\" }}>Loading...</h1>\n    </React.Fragment>\n  );\n\n  return (\n    <div\n      onScroll={currentPage <= lastPage ? onScroll : null}\n      className=\"gallery\"\n      style={{ overflowY: \"scroll\", height: \"100vh\" }}\n    >\n      <ModalDialog\n        display={displayDetails}\n        close={() => setDisplayDetails(false)}\n        content={<Carousel images={images ? images.images : null} />}\n        title={selectedTitle}\n      />\n\n      <div className=\"container-fluid\">\n        {galleryStatus === true ? (\n          loadingState\n        ) : (\n          <div className=\"card-columns\">\n            {paginatedList && paginatedList.length > 0\n              ? paginatedList.map((item, i) => (\n                  <div key={i}>\n                    <div\n                      className=\"card\"\n                      key={i}\n                      onClick={() => displayModal(item)}\n                    >\n                      <ThumbnailCard\n                        title={item.title}\n                        type={item.type}\n                        animated={item.animated}\n                        image={item.images}\n                        link={item.link}\n                      />\n                    </div>\n                  </div>\n                ))\n              : null}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default GalleryPage;\n"]},"metadata":{},"sourceType":"module"}