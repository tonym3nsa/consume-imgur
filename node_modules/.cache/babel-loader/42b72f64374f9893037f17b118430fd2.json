{"ast":null,"code":"import{GET_GALLERY,HOT,DAY,TOP,GETTING_GALLERY}from\"../../constants\";export var getGallery=function getGallery(filter){var apiURL=process.env.REACT_APP_API_ENDPOINT;var auth=process.env.REACT_APP_AUTHORIZATION;var headers=new Headers();headers.append(\"Authorization\",auth);var section=filter&&filter.section?filter.section:HOT;var sort=filter&&filter.sort?filter.sort:TOP;var window=filter&&filter.window?filter.window:DAY;var requestOptions={method:\"GET\",headers:headers,redirect:\"follow\"};return function(dispatch){dispatch({type:GETTING_GALLERY,status:true});return fetch(\"\".concat(apiURL,\"gallery/\").concat(section,\"/\").concat(sort,\"/\").concat(window),requestOptions).then(function(response){return response.text();}).then(function(result){var payload=JSON.parse(result);dispatch({type:GET_GALLERY,payload:payload.data});dispatch({type:GETTING_GALLERY,status:false});}).catch(function(error){alert(\"There was an error: \".concat(error));});};};export default{getGallery:getGallery};","map":{"version":3,"sources":["/Users/tonymensah/Documents/eurowings/src/redux/actions/gallery.js"],"names":["GET_GALLERY","HOT","DAY","TOP","GETTING_GALLERY","getGallery","filter","apiURL","process","env","REACT_APP_API_ENDPOINT","auth","REACT_APP_AUTHORIZATION","headers","Headers","append","section","sort","window","requestOptions","method","redirect","dispatch","type","status","fetch","then","response","text","result","payload","JSON","parse","data","catch","error","alert"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,GAAtB,CAA2BC,GAA3B,CAAgCC,GAAhC,CAAqCC,eAArC,KAA4D,iBAA5D,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,MAAD,CAAY,CACpC,GAAMC,CAAAA,MAAM,CAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA3B,CACA,GAAMC,CAAAA,IAAI,CAAGH,OAAO,CAACC,GAAR,CAAYG,uBAAzB,CACA,GAAIC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,OAAJ,EAAd,CACAD,OAAO,CAACE,MAAR,CAAe,eAAf,CAAgCJ,IAAhC,EACA,GAAMK,CAAAA,OAAO,CAAGV,MAAM,EAAIA,MAAM,CAACU,OAAjB,CAA2BV,MAAM,CAACU,OAAlC,CAA4Cf,GAA5D,CACA,GAAMgB,CAAAA,IAAI,CAAGX,MAAM,EAAIA,MAAM,CAACW,IAAjB,CAAwBX,MAAM,CAACW,IAA/B,CAAsCd,GAAnD,CACA,GAAMe,CAAAA,MAAM,CAAGZ,MAAM,EAAIA,MAAM,CAACY,MAAjB,CAA0BZ,MAAM,CAACY,MAAjC,CAA0ChB,GAAzD,CAEA,GAAMiB,CAAAA,cAAc,CAAG,CACrBC,MAAM,CAAE,KADa,CAErBP,OAAO,CAAEA,OAFY,CAGrBQ,QAAQ,CAAE,QAHW,CAAvB,CAMA,MAAO,UAACC,QAAD,CAAc,CACnBA,QAAQ,CAAC,CACPC,IAAI,CAAEnB,eADC,CAEPoB,MAAM,CAAE,IAFD,CAAD,CAAR,CAIA,MAAOC,CAAAA,KAAK,WACPlB,MADO,oBACUS,OADV,aACqBC,IADrB,aAC6BC,MAD7B,EAEVC,cAFU,CAAL,CAIJO,IAJI,CAIC,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAJD,EAKJF,IALI,CAKC,SAACG,MAAD,CAAY,CAChB,GAAMC,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWH,MAAX,CAAhB,CAEAP,QAAQ,CAAC,CACPC,IAAI,CAAEvB,WADC,CAEP8B,OAAO,CAAEA,OAAO,CAACG,IAFV,CAAD,CAAR,CAIAX,QAAQ,CAAC,CACPC,IAAI,CAAEnB,eADC,CAEPoB,MAAM,CAAE,KAFD,CAAD,CAAR,CAID,CAhBI,EAiBJU,KAjBI,CAiBE,SAACC,KAAD,CAAW,CAChBC,KAAK,+BAAwBD,KAAxB,EAAL,CACD,CAnBI,CAAP,CAoBD,CAzBD,CA0BD,CAzCM,CA2CP,cAAe,CACb9B,UAAU,CAAVA,UADa,CAAf","sourcesContent":["import { GET_GALLERY, HOT, DAY, TOP, GETTING_GALLERY } from \"../../constants\";\n\nexport const getGallery = (filter) => {\n  const apiURL = process.env.REACT_APP_API_ENDPOINT;\n  const auth = process.env.REACT_APP_AUTHORIZATION;\n  let headers = new Headers();\n  headers.append(\"Authorization\", auth);\n  const section = filter && filter.section ? filter.section : HOT;\n  const sort = filter && filter.sort ? filter.sort : TOP;\n  const window = filter && filter.window ? filter.window : DAY;\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: headers,\n    redirect: \"follow\",\n  };\n\n  return (dispatch) => {\n    dispatch({\n      type: GETTING_GALLERY,\n      status: true,\n    });\n    return fetch(\n      `${apiURL}gallery/${section}/${sort}/${window}`,\n      requestOptions\n    )\n      .then((response) => response.text())\n      .then((result) => {\n        const payload = JSON.parse(result);\n\n        dispatch({\n          type: GET_GALLERY,\n          payload: payload.data,\n        });\n        dispatch({\n          type: GETTING_GALLERY,\n          status: false,\n        });\n      })\n      .catch((error) => {\n        alert(`There was an error: ${error}`);\n      });\n  };\n};\n\nexport default {\n  getGallery,\n};\n"]},"metadata":{},"sourceType":"module"}